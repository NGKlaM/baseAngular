<p-toast></p-toast>
<p-confirmDialog
  message="Do you want delete Product?"
  accept="onConfirm"
  reject="onReject"
  header="Delete"
  acceptButtonStyleClass="focus:outline-none text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800"
  rejectButtonStyleClass="focus:outline-none text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900"
>
  <span>Are you sure you want to delete this product?</span>
</p-confirmDialog>

<div
  *ngIf="!checkData"
  style="background-color: rgba(255, 255, 255, 0.1); padding: 20px;"
  class="rounded-lg border w-[1000px] border-gray-200 "
>
<header class="px-5 py-4 border-b border-gray-100">
  <h2 class="font-semibold text-gray-800">Product</h2>
</header>
  <div class="rounded-t-lg">
    <div class="flex justify-between items-center">
      <button
        (click)="addProduct()"
        type="button"
        class="text-white m-[20px] bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"
      >
        Add Product
      </button>
    </div>

    <table
      style="border-radius: 10px; margin: 20px 0"
      class="min-w-full divide-y-2 bg-white text-sm text-center"
    >
      <thead class="ltr:text-left rtl:text-right">
        <tr>
          <th
            scope="col"
            class="whitespace-nowrap px-4 py-2 font-medium text-gray-900"
          >
            Product name
          </th>
          <th
            scope="col"
            class="whitespace-nowrap px-4 py-2 font-medium text-gray-900"
          >
            Image
          </th>
          <th
            scope="col"
            class="whitespace-nowrap px-4 py-2 font-medium text-gray-900"
          >
            Category
          </th>
          <th
            scope="col"
            class="whitespace-nowrap px-4 py-2 font-medium text-gray-900"
          >
            Price
          </th>
          <th
            scope="col"
            class="whitespace-nowrap px-4 py-2 font-medium text-gray-900"
          >
            Action
          </th>
        </tr>
      </thead>

      <tbody class="divide-y divide-gray-200">
        <tr
          *ngFor="let product of productList"
          class="odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700"
        >
          <th
            scope="row"
            class="px-6 py-4 font-medium text-gray-900 dark:text-white"
          >
            {{ product.title }}
          </th>
          <td class="px-6 py-4">
            <img [src]="product.image" width="50" height="50" alt="" />
          </td>
          <td class="px-6 py-4">{{ product.categoryId.name }}</td>
          <td class="px-6 py-4">${{ product.price }}</td>
          <td class="px-6 py-4">
            <button
              (click)="deleteProduct(product._id)"
              class="focus:outline-none text-blue-300 hover:underline focus:ring-4 focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900"
            >
              Delete
            </button>
            <button
              (click)="updateProduct(product._id)"
              class="focus:outline-none text-blue-300 hover:underline focus:ring-4 focus:ring-yellow-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:focus:ring-yellow-900"
            >
              Update
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
<div
  *ngIf="checkData"
  style="background-color: rgba(255, 255, 255, 0.1); padding: 20px"
  class="rounded-lg border w-[1000px] border-gray-200"
>
  <div class="rounded-t-lg">
    <div class="flex justify-between items-center">
    </div>
    <table
      style="border-radius: 10px; margin: 20px 0"
      class="min-w-full divide-y-2 bg-white text-sm"
    >
      <thead class="ltr:text-left rtl:text-right">
        <tr>
          <th
            scope="col"
            class="whitespace-nowrap px-4 py-2 font-medium text-gray-900"
          >
            Product name
          </th>
          <th
            scope="col"
            class="whitespace-nowrap px-4 py-2 font-medium text-gray-900"
          >
            Image
          </th>
          <th
            scope="col"
            class="whitespace-nowrap px-4 py-2 font-medium text-gray-900"
          >
            Category
          </th>
          <th
            scope="col"
            class="whitespace-nowrap px-4 py-2 font-medium text-gray-900"
          >
            Price
          </th>
          <th
            scope="col"
            class="whitespace-nowrap px-4 py-2 font-medium text-gray-900"
          >
            Action
          </th>
        </tr>
      </thead>

      <tbody class="divide-y divide-gray-200">
        <tr
          *ngFor="let product of productList"
          class="odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700"
        >
          <th
            scope="row"
            class="px-6 py-4 font-medium text-gray-900 dark:text-white"
          >
            {{ product.title }}
          </th>
          <td class="px-6 py-4">
            <img [src]="product.image" width="50" height="50" alt="" />
          </td>
          <td class="px-6 py-4">{{ product.categoryId.name }}</td>
          <td class="px-6 py-4">${{ product.price }}</td>
          <td class="px-6 py-4">
            <button
              (click)="deleteProduct(product._id)"
              class="focus:outline-none text-blue-300 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900"
            >
              Delete
            </button>
            <button
              (click)="updateProduct(product._id)"
              class="focus:outline-none text-blue-300 hover:bg-yellow-500 focus:ring-4 focus:ring-yellow-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:focus:ring-yellow-900"
            >
              Update
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
